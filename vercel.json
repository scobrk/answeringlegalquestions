{
  "version": 2,
  "buildCommand": "echo 'No build needed for serverless functions'",
  "outputDirectory": ".",
  "installCommand": "echo 'Dependencies managed per function'",
  "rewrites": [
    { "source": "/api/test", "destination": "/api/test" },
    { "source": "/api/query", "destination": "/api/query" },
    { "source": "/api/query_supabase", "destination": "/api/query_supabase" },
    { "source": "/api/nsw_revenue_assistant", "destination": "/api/nsw_revenue_assistant" },
    { "source": "/api/health", "destination": "/api/health" },
    { "source": "/api/debug_env", "destination": "/api/debug_env" },
    { "source": "/(.*)", "destination": "/index.html" }
  ],
  "functions": {
    "api/test.py": {
      "memory": 256,
      "maxDuration": 10
    },
    "api/query.py": {
      "memory": 2048,
      "maxDuration": 60,
      "includeFiles": "{data/vector_index/**,data/legislation_v2/**,data/metadata/**,data/hybrid_cache/**,agents/**}"
    },
    "api/query_supabase.py": {
      "memory": 512,
      "maxDuration": 30
    },
    "api/nsw_revenue_assistant.py": {
      "memory": 512,
      "maxDuration": 45
    },
    "api/health.py": {
      "memory": 256,
      "maxDuration": 10
    },
    "api/debug_env.py": {
      "memory": 256,
      "maxDuration": 10
    }
  }
}